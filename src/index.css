@import "tailwindcss";
@plugin "flowbite-react/plugin/tailwindcss";
@plugin "@tailwindcss/typography";
@source "../.flowbite-react/class-list.json";
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --font-sans: "Noto Sans KR", "Noto Sans JP", "Noto Sans SC", "Noto Sans TC",
    "Noto Sans", sans-serif;
}

/* 목차 스크롤용 */
h2,
h3,
h4,
h5,
h6 {
  scroll-margin-top: 6rem; /* 헤더 높이만큼 여백 추가 */
}

/* SimpleMDE/EasyMDE 다크 모드 스타일 오버라이드 */
.dark .markdown-editor-simplemde .editor-toolbar,
.dark .markdown-editor-simplemde .editor-preview-full,
.dark .markdown-editor-simplemde .CodeMirror {
  background-color: #1f2937 !important; /* dark:bg-gray-800 */
  color: #ffffff !important;
  border-color: #374151 !important;
}

.dark .editor-toolbar {
  background-color: #374151 !important; /* dark:bg-gray-700 */
}

.dark .editor-toolbar button {
  color: #d1d5db !important; /* 아이콘 색상 */
}

.dark .editor-toolbar button.active,
.dark .editor-toolbar button:hover {
  background-color: #4b5563 !important; /* 호버/활성화 배경 */
}

.markdown-editor-simplemde .editor-toolbar,
.markdown-editor-simplemde .CodeMirror,
.markdown-editor-simplemde .editor-preview {
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
    "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !important;
}

.markdown-editor-simplemde .CodeMirror,
.markdown-editor-simplemde .editor-preview {
  font-size: var(--text-sm) !important;
  font-family: var(--font-sans) !important; /* Tailwind CSS 폰트사용 */
}

.dark .CodeMirror-cursor {
  border-left-color: #ffffff !important; /* 커서 색상을 흰색으로 변경 */
}

/* 마크다운 상세 스타일 */
.prose img {
  max-height: 800px;
  max-width: 100%;
  width: auto;
  height: auto;
  border-radius: 8px;
  display: block;
  margin: 20px auto;
  border-radius: 8px;
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  clear: both;
}

.prose table {
  max-width: 800px;
  border-collapse: collapse;
  margin: 1rem 0;
}

/* 미리보기 */
/* 1. 미리보기 배경 및 텍스트 색상 (에디터와 통일) */
.dark .markdown-editor-simplemde .editor-preview-side,
.dark .markdown-editor-simplemde .editor-preview {
  background-color: #1f2937 !important; /* 에디터 배경색과 일치 */
  color: #ffffff !important;
  border-color: #374151 !important;
}

/* 2. 이미지 스타일 (상세페이지 .prose img와 동기화) */
.markdown-editor-simplemde .editor-preview-side img,
.markdown-editor-simplemde .editor-preview img {
  max-height: 800px;
  max-width: 100%;
  width: auto;
  height: auto;
  border-radius: 8px;
  display: block;
  margin: 20px auto;
  border-radius: 8px;
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  clear: both;
}

/* 3. 표(Table) 스타일 보정 (스크린샷 문제 해결) */
.markdown-editor-simplemde .editor-preview-side table,
.markdown-editor-simplemde .editor-preview table {
  width: 100%;
  max-width: 800px;
  border-collapse: collapse;
  margin: 1rem 0;
  color: inherit; /* 부모 색상 상속 */
}

.markdown-editor-simplemde .editor-preview-side th,
.markdown-editor-simplemde .editor-preview-side td,
.markdown-editor-simplemde .editor-preview th,
.markdown-editor-simplemde .editor-preview td {
  border: 1px solid #374151; /* 다크모드 테두리 */
  padding: 8px 12px;
}

.dark .markdown-editor-simplemde .editor-preview-side th,
.dark .markdown-editor-simplemde .editor-preview th {
  background-color: #374151; /* 헤더 배경색 */
}

/* 4. 제목(Header) 스타일 */
.markdown-editor-simplemde .editor-preview-side h1,
.markdown-editor-simplemde .editor-preview h1 {
  font-size: 1.8rem;
  border-bottom: 1px solid #374151;
  padding-bottom: 0.5rem;
  margin-bottom: 1rem;
}
